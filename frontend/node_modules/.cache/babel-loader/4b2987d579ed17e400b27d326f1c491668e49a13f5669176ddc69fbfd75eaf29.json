{"ast":null,"code":"import _defineProperty from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var showAlert=_ref.showAlert;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loader=_useState4[0],setLoader=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var navigate=useNavigate();var handleOnSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setLoader(true);_context.prev=2;_context.next=5;return fetch('https://inotes-i3zr.onrender.com/api/auth/login/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:json=_context.sent;console.log(json.msg);setLoader(false);if(json.success){// Save the auth token and redirect\nlocalStorage.setItem('token',json.token);navigate('/');showAlert('Logged in successfully','success');}else{showAlert(json.msg,'danger');}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);showAlert(\"internal server error we will back soon ...\",'danger');case 17:case\"end\":return _context.stop();}},_callee,null,[[2,14]]);}));return function handleOnSubmit(_x){return _ref2.apply(this,arguments);};}();var handleOnChange=function handleOnChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};var toggleShow=function toggleShow(){setShow(!show);};return/*#__PURE__*/_jsx(\"div\",{className:\"container my-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleOnSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",onChange:handleOnChange,name:\"email\",value:credentials.email,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:show?\"text\":\"password\",className:\"form-control\",id:\"password\",onChange:handleOnChange,name:\"password\",value:credentials.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"exampleCheck1\",onClick:toggleShow}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"exampleCheck1\",children:\"Show Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-primary\",children:loader?'Logging in...':'Login'})]})});}","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","showAlert","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","_useState3","_useState4","loader","setLoader","_useState5","_useState6","show","setShow","navigate","handleOnSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","console","log","msg","success","localStorage","setItem","token","t0","stop","_x","apply","arguments","handleOnChange","_objectSpread","_defineProperty","target","name","value","toggleShow","className","children","onSubmit","htmlFor","type","id","onChange","onClick"],"sources":["D:/Desktop/react/cwh/iNotes/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Login({showAlert}) {\r\n    const [credentials, setCredentials] = useState({ email: '', password: '' });\r\n    const [ loader , setLoader ] = useState(false);\r\n    const [show,setShow] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleOnSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoader(true)\r\n        try {\r\n            const response = await fetch('https://inotes-i3zr.onrender.com/api/auth/login/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email: credentials.email, password: credentials.password }),\r\n            });\r\n            const json = await response.json();\r\n            console.log(json.msg);\r\n            setLoader(false)\r\n            if (json.success) {\r\n                // Save the auth token and redirect\r\n                localStorage.setItem('token', json.token);\r\n                navigate('/');\r\n                showAlert('Logged in successfully', 'success');\r\n            } else {\r\n                showAlert(json.msg, 'danger');\r\n            }\r\n        } catch (error) {\r\n            showAlert(\"internal server error we will back soon ...\", 'danger')\r\n        }\r\n    };\r\n\r\n    const handleOnChange = (e) => {\r\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const toggleShow = () => {\r\n        setShow(!show);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container my-4\">\r\n            <form onSubmit={handleOnSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n                        Email address\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        onChange={handleOnChange}\r\n                        name=\"email\"\r\n                        value={credentials.email}\r\n                        aria-describedby=\"emailHelp\"\r\n                    />\r\n                    <div id=\"emailHelp\" className=\"form-text\">\r\n                        We'll never share your email with anyone else.\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">\r\n                        Password\r\n                    </label>\r\n                    <input\r\n                        type={show ? \"text\" : \"password\"}\r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        onChange={handleOnChange}\r\n                        name=\"password\"\r\n                        value={credentials.password}\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3 form-check\">\r\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" onClick={toggleShow}/>\r\n                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">\r\n                        Show Password\r\n                    </label>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-outline-primary\">\r\n                    {loader ? 'Logging in...' : 'Login'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}