{"ast":null,"code":"import _defineProperty from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from\"react\";import NoteContext from\"../context/note/NoteContext\";import Noteitem from\"./Noteitem\";import Addnote from\"./Addnote\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Notes(props){var history=useNavigate();var context=useContext(NoteContext);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setnote=_useState2[1];var notes=context.notes,getNote=context.getNote,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNote();}else{history('/login');}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var update=function update(currentNote){ref.current.click();setnote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleSubmit=function handleSubmit(e){console.log(note);editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();e.preventDefault();props.showAlert(\"Updated Successfully\",\"success\");};var handleChange=function handleChange(e){// console.log(e.target.value)\nsetnote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Addnote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:ref,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Write Your Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.etitle,className:\"form-control\",id:\"etitle\",name:\"etitle\",placeholder:\"\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:note.edescription,id:\"edescription\",name:\"edescription\",rows:\"2\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:note.etag,id:\"etag\",name:\"etag\",placeholder:\"\",onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,type:\"button\",className:\"btn btn-primary\",onClick:handleSubmit,children:\"Edit Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&\"You did not have any note to preview\"}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{note:note,update:update,showAlert:props.showAlert},note._id);})]})]});}","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","NoteContext","Noteitem","Addnote","useNavigate","jsx","_jsx","jsxs","_jsxs","Notes","props","history","context","_useState","id","etitle","edescription","etag","_useState2","_slicedToArray","note","setnote","notes","getNote","editNote","localStorage","getItem","ref","refClose","update","currentNote","current","click","_id","title","description","tag","handleSubmit","e","console","log","preventDefault","showAlert","handleChange","_objectSpread","_defineProperty","target","name","value","children","type","className","tabIndex","htmlFor","placeholder","onChange","rows","disabled","length","onClick","map"],"sources":["D:/Desktop/react/cwh/iNotes/frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef , useState} from \"react\";\r\nimport NoteContext from \"../context/note/NoteContext\";\r\nimport Noteitem from \"./Noteitem\";\r\nimport Addnote from \"./Addnote\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Notes(props) {\r\n  let history = useNavigate();\r\n  const context = useContext(NoteContext);\r\n  const [note, setnote] = useState({id: \"\" ,etitle:\"\" , edescription : \"\" , etag: \"\"})\r\n  const { notes, getNote , editNote} = context;\r\n  useEffect(() => {\r\n    if(localStorage.getItem('token')){\r\n      getNote()\r\n    }else{\r\n      history('/login')\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  const ref = useRef(null);\r\n  const refClose = useRef(null);\r\n  const update = (currentNote) => {\r\n    ref.current.click();\r\n    setnote({id:currentNote._id , etitle: currentNote.title , edescription: currentNote.description , etag: currentNote.tag})\r\n  };\r\n  const handleSubmit = (e) => {\r\n    console.log(note)\r\n    editNote(note.id , note.etitle , note.edescription , note.etag)\r\n    refClose.current.click();\r\n    e.preventDefault();\r\n    props.showAlert(\"Updated Successfully\" , \"success\")\r\n}\r\nconst handleChange = (e) => {\r\n    // console.log(e.target.value)\r\n    setnote({...note , [e.target.name]:e.target.value})\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <Addnote showAlert={props.showAlert}/>\r\n      {/* <!-- Button trigger modal --> */}\r\n      <button type=\"button\" ref={ref} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n        Launch demo modal\r\n      </button>\r\n      {/* \r\n<!-- Modal --> */}\r\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                Modal title\r\n              </h5>\r\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n            <h1>Write Your Notes</h1>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"etitle\" className=\"form-label\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={note.etitle}\r\n            className=\"form-control\"\r\n            id=\"etitle\"\r\n            name='etitle'\r\n            placeholder=\"\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"description\" className=\"form-label\">\r\n          Description\r\n          </label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            value={note.edescription}\r\n            id=\"edescription\"\r\n            name='edescription'\r\n            rows=\"2\"\r\n            onChange={handleChange}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"tag\" className=\"form-label\">\r\n            Tag\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={note.etag}\r\n            id=\"etag\"\r\n            name='etag'\r\n            placeholder=\"\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n        <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button disabled={note.etitle.length<5 || note.edescription.length<5} type=\"button\" className=\"btn btn-primary\" onClick={handleSubmit}>Edit Note</button>\r\n      </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <h1>Your Notes</h1>\r\n        <div className=\"container\">\r\n        {notes.length === 0 && (\"You did not have any note to preview\")}\r\n        </div>\r\n        {notes.map((note) => (\r\n          <Noteitem key={note._id} note={note} update={update} showAlert={props.showAlert}/>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}