{"ast":null,"code":"import _regeneratorRuntime from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import NoteContext from\"./NoteContext\";import{jsx as _jsx}from\"react/jsx-runtime\";var NoteState=function NoteState(props){var host=\"https://inotes-i3zr.onrender.com/\";var initialNotes=[];var _useState=useState(initialNotes),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];//fetch Notes\nvar getNote=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(host,\"api/notes/fetchallnots\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;console.log(json);setNotes(json);case 8:case\"end\":return _context.stop();}},_callee);}));return function getNote(){return _ref.apply(this,arguments);};}();// Add Notes\nvar addNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(title,description,tag){var response,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(host,\"api/notes/addnote\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:json=_context2.sent;setNotes(notes.concat(json));case 7:case\"end\":return _context2.stop();}},_callee2);}));return function addNote(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();// Delete Notes\nvar deleteNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response,json,newNotes;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(host,\"api/notes/deletenote/\").concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:json=_context3.sent;console.log(json);newNotes=notes.filter(function(notes){return notes._id!==id;});setNotes(newNotes);case 9:case\"end\":return _context3.stop();}},_callee3);}));return function deleteNote(_x4){return _ref3.apply(this,arguments);};}();// Edit Note\nvar editNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,title,description,tag){var response,json,newNotes,index;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(host,\"api/notes/updatenote/\").concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:json=_context4.sent;console.log(json);newNotes=JSON.parse(JSON.stringify(notes));//logic to edit note\nindex=0;case 9:if(!(index<newNotes.length)){_context4.next=18;break;}if(!(newNotes[index]._id===id)){_context4.next=15;break;}newNotes[index].title=title;newNotes[index].description=description;newNotes[index].tag=tag;return _context4.abrupt(\"break\",18);case 15:index++;_context4.next=9;break;case 18:setNotes(newNotes);case 19:case\"end\":return _context4.stop();}},_callee4);}));return function editNote(_x5,_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(NoteContext.Provider,{value:{notes:notes,addNote:addNote,deleteNote:deleteNote,editNote:editNote,getNote:getNote},children:props.children});};export default NoteState;","map":{"version":3,"names":["useState","NoteContext","jsx","_jsx","NoteState","props","host","initialNotes","_useState","_useState2","_slicedToArray","notes","setNotes","getNote","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","json","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","localStorage","getItem","sent","console","log","stop","apply","arguments","addNote","_ref2","_callee2","title","description","tag","_callee2$","_context2","body","JSON","stringify","_x","_x2","_x3","deleteNote","_ref3","_callee3","id","newNotes","_callee3$","_context3","filter","_id","_x4","editNote","_ref4","_callee4","index","_callee4$","_context4","parse","length","abrupt","_x5","_x6","_x7","_x8","Provider","value","children"],"sources":["D:/Desktop/react/cwh/iNotes/frontend/src/context/note/NoteState.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport NoteContext from \"./NoteContext\";\r\n\r\nconst NoteState = (props) => {\r\n  const host = \"https://inotes-i3zr.onrender.com/\";\r\n  const initialNotes = [];\r\n  const [notes, setNotes] = useState(initialNotes);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //fetch Notes\r\n  const getNote = async () => {\r\n    const response = await fetch(`${host}api/notes/fetchallnots`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\":\r\n          localStorage.getItem('token'),\r\n      },\r\n    });\r\n    const json = await response.json();\r\n    console.log(json);\r\n    setNotes(json);\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Add Notes\r\n  const addNote = async (title, description, tag) => {\r\n    // API Call\r\n    const response = await fetch(`${host}api/notes/addnote`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\":\r\n          localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify({title , description , tag})\r\n    });\r\n    const json = await response.json();\r\n    setNotes(notes.concat(json))\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  // Delete Notes\r\n  const deleteNote = async(id) => {\r\n    const response = await fetch(`${host}api/notes/deletenote/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\":\r\n          localStorage.getItem('token'),\r\n      },\r\n    });\r\n    const json = await response.json();\r\n    console.log(json);\r\n    const newNotes = notes.filter((notes) => {\r\n      return notes._id !== id;\r\n    });\r\n    setNotes(newNotes);\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Edit Note\r\n  const editNote = async (id, title, description, tag) => {\r\n    // api call\r\n    const response = await fetch(`${host}api/notes/updatenote/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\":\r\n          localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify({title , description , tag})\r\n    });\r\n    const json = await response.json();\r\n    console.log(json)\r\n    let newNotes = JSON.parse(JSON.stringify(notes))\r\n    //logic to edit note\r\n    for (let index = 0; index < newNotes.length; index++) {\r\n      if (newNotes[index]._id === id) {\r\n        newNotes[index].title = title;\r\n        newNotes[index].description = description;\r\n        newNotes[index].tag = tag;\r\n        break;\r\n      }\r\n    }\r\n    setNotes(newNotes)\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <NoteContext.Provider\r\n      value={{ notes, addNote, deleteNote, editNote, getNote }}\r\n    >\r\n      {props.children}\r\n    </NoteContext.Provider>\r\n  );\r\n};\r\n\r\nexport default NoteState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}