{"ast":null,"code":"import _defineProperty from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Desktop/react/cwh/iNotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(props){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var navigate=useNavigate();var handleOnSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(credentials);_context.next=4;return fetch('https://inotes-i3zr.onrender.com/api/auth/login/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;console.log(json);if(json.success){// Save the auth token and redirect\nlocalStorage.setItem('token',json.token);navigate('/');props.showAlert('Logged in successfully','success');}else{props.showAlert('Please Enter a valid Credentials','danger');}case 10:case\"end\":return _context.stop();}},_callee);}));return function handleOnSubmit(_x){return _ref.apply(this,arguments);};}();var handleOnChange=function handleOnChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};var toggleShow=function toggleShow(){var x=document.getElementById('password');if(x.type==='password'){x.type='text';}else{x.type='password';}};return/*#__PURE__*/_jsx(\"div\",{className:\"container my-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleOnSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",onChange:handleOnChange,name:\"email\",value:credentials.email,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",onChange:handleOnChange,name:\"password\",value:credentials.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"exampleCheck1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"exampleCheck1\",onClick:toggleShow,children:\"Show Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-primary\",children:\"Submit\"})]})});}","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","navigate","handleOnSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","sent","success","localStorage","setItem","token","showAlert","stop","_x","apply","arguments","handleOnChange","_objectSpread","_defineProperty","target","name","value","toggleShow","x","document","getElementById","type","className","children","onSubmit","htmlFor","id","onChange","onClick"],"sources":["D:/Desktop/react/cwh/iNotes/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Login(props) {\r\n    const [credentials, setCredentials] = useState({ email: '', password: '' });\r\n    const navigate = useNavigate();\r\n\r\n    const handleOnSubmit = async (e) => {\r\n        e.preventDefault();\r\n        console.log(credentials);\r\n        const response = await fetch('https://inotes-i3zr.onrender.com/api/auth/login/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ email: credentials.email, password: credentials.password }),\r\n        });\r\n        const json = await response.json();\r\n        console.log(json);\r\n        if (json.success) {\r\n            // Save the auth token and redirect\r\n            localStorage.setItem('token', json.token);\r\n            navigate('/');\r\n            props.showAlert('Logged in successfully', 'success');\r\n        } else {\r\n            props.showAlert('Please Enter a valid Credentials','danger')\r\n        }\r\n    };\r\n\r\n    const handleOnChange = (e) => {\r\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const toggleShow = () => {\r\n        var x = document.getElementById('password');\r\n        if (x.type === 'password') {\r\n            x.type = 'text';\r\n        } else {\r\n            x.type = 'password';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container my-4\">\r\n            <form onSubmit={handleOnSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n                        Email address\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        onChange={handleOnChange}\r\n                        name=\"email\"\r\n                        value={credentials.email}\r\n                        aria-describedby=\"emailHelp\"\r\n                    />\r\n                    <div id=\"emailHelp\" className=\"form-text\">\r\n                        We'll never share your email with anyone else.\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">\r\n                        Password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        onChange={handleOnChange}\r\n                        name=\"password\"\r\n                        value={credentials.password}\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3 form-check\">\r\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\r\n                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\" onClick={toggleShow}>\r\n                        Show Password\r\n                    </label>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-outline-primary\">\r\n                    Submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}